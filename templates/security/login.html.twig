{% extends 'base.html.twig' %}

{% block title %}
  Log in!
{% endblock %}

{% block body %}
  <div class="container d-flex justify-content-center mt-5">
    <form class="w-50 mt-2 p-2" method="post">
      {% if error %}
        <div class="alert alert-danger">
          {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
      {% endif %}

      {% if app.user %}
        <div class="mb-3">
          You are logged in as {{ app.user.username }}, <a href="{{ path('app_logout') }}">Logout</a>
        </div>
      {% endif %}

      <fieldset>
        <legend>
          Connexion
        </legend>

        <div class="form-group">
          <label for="exampleInputEmail1">
            Email address
          </label>
          <input type="email"
            value="{{ last_username }}"
            name="email"
            class="form-control"
            id="inputEmail"
            aria-describedby="emailHelp"
            placeholder="Enter email" />
        </div>

        <div class="form-group">
          <label for="inputPassword">
            Password
          </label>
          <input type="password"
            name="password"
            id="inputPassword"
            class="form-control"
            placeholder="Password" />
        </div>

        <input type="hidden"
          name="_csrf_token"
          value="{{ csrf_token('authenticate') }}" />

        <button type="submit" class="btn btn-primary">
          Submit
        </button>
      </fieldset>
    </form>
  </div>
{% endblock %}
